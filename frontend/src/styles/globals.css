/**
 * 全局样式文件
 * 包含 CSS 重置、CSS 变量和基础样式
 * 支持响应式设计
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS 变量定义（基于设计令牌） */
@layer base {
  :root {
    /* 颜色变量 */
    --color-primary-500: #06b6d4;
    --color-primary-600: #0891b2;
    --color-secondary-500: #f59e0b;
    --color-secondary-600: #d97706;
    
    /* AETHER UI 特殊色 */
    --color-aether-dark: #020610;
    --color-aether-deep-dark: #0a0510;
    --color-aether-cyan: 0, 255, 255;
    --color-aether-gold: 255, 215, 0;
    
    /* 间距变量 */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-4: 1rem;
    --spacing-6: 1.5rem;
    
    /* 动画时长 */
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
  }
}

/* 全局重置 */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    @apply bg-black text-white font-sans antialiased;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

/* 自定义滚动条样式 */
@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.02);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }
}

/* Markdown 内容样式 */
@layer components {
  .markdown-content {
    word-break: break-word;
    overflow-x: hidden;
  }
  
  .markdown-content pre {
    @apply relative my-3 sm:my-4 overflow-x-auto;
  }
  
  .markdown-content pre code {
    @apply bg-transparent p-0 text-inherit block;
  }
  
  .markdown-content code {
    @apply text-xs sm:text-sm;
  }
  
  .markdown-content table {
    @apply my-3 sm:my-4 rounded-lg overflow-x-auto block w-full;
  }
  
  .markdown-content th {
    @apply bg-gray-800/50 font-semibold text-xs sm:text-sm;
  }
  
  .markdown-content td {
    @apply bg-gray-900/30 text-xs sm:text-sm;
  }
  
  .markdown-content tr:nth-child(even) td {
    @apply bg-gray-800/30;
  }

  /* 响应式排版 */
  .markdown-content h1,
  .markdown-content h2,
  .markdown-content h3,
  .markdown-content h4,
  .markdown-content h5,
  .markdown-content h6 {
    @apply mt-3 sm:mt-4 mb-2 sm:mb-3;
  }

  .markdown-content p {
    @apply text-sm sm:text-base;
  }

  .markdown-content ul,
  .markdown-content ol {
    @apply text-sm sm:text-base;
  }

  .markdown-content blockquote {
    @apply text-sm sm:text-base;
  }

  .markdown-content img {
    @apply max-w-full h-auto;
  }
}

/* 选中文本样式 */
@layer base {
  ::selection {
    @apply bg-cyan-500/30 text-inherit;
  }
  
  ::-moz-selection {
    @apply bg-cyan-500/30 text-inherit;
  }
}

/* 动画定义 */
@layer utilities {
  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .animate-bounce-slow {
    animation: bounce-slow 3s infinite ease-in-out;
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
  }

  /* 响应式工具类 */
  @media (max-width: 640px) {
    .prose {
      @apply text-sm;
    }
  }
}

/* 减少动画（无障碍） */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* 响应式容器查询 */
@media (max-width: 768px) {
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
}
